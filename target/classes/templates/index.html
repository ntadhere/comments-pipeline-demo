<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comments Application</title>
    <link href="style.css" rel="stylesheet">
</head>

<body>
<div class="container">
  <h1>Welcome to the comments application!</h1>

  <!-- Comments Table -->
<table class="table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Content</th>
      <th>Author</th>
      <th>Date</th>  <!-- New column -->
    </tr>
  </thead>
  <tbody>
    <tr th:each="comment : ${comments}">
      <td th:text="${comment.id}">1</td>
      <td th:text="${comment.content}">Sample comment content</td>
      <td th:text="${comment.author}">Author Name</td>
      <!-- New cell for createdAt -->
      <td th:text="${#temporals.format(comment.createdAt, 'MM/dd/yyyy')}">01/01/2025</td>
    </tr>
  </tbody>
</table>


 <!-- existing add-comment form -->
<form th:action="@{/submitComment}" method="post">
  <div class="mb-3">
    <label for="content" class="form-label">New Comment</label>
    <input type="text" class="form-control" id="content" name="content" required>
  </div>
  <div class="mb-3">
    <label for="author" class="form-label">Your name</label>
    <input type="text" class="form-control" id="author" name="author" required>
  </div>
  <button type="submit" class="btn btn-primary">Add Comment</button>
</form>

<!-- NEW: search form -->
<form th:action="@{/searchComments}" method="get" style="margin-top: 20px;">
  <div class="mb-3">
    <label for="searchTerm" class="form-label">Search Comments</label>
    <input type="text"
           class="form-control"
           id="searchTerm"
           name="searchTerm"
           th:value="${searchTerm}"
           placeholder="Enter a word or phrase">
  </div>
  <button type="submit" class="btn btn-primary">Search</button>
</form>

</div>
</body>
</html>
